<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Statue Page.</title><meta name="description" content="Status page for all websites."/>
    <style>
 span.st {
    background: #fbfde1;
    padding: 5px 6px;
    margin: 2px;
    float: left;
    text-align: center;
    border-radius: 5px;
    box-shadow: 2px 2px #0000002e;
    font-size: 90%;
}

span.statuscode {
    display: block;
}

span.resptime {
    display: block;
}

span.ts {
    font-size: 10px;
}

body {
    font-family: tahoma,sans-serif;
    margin: 0;
}

span.st.st200 {
    background: #A6ECA8;
}

h1#pagetitle {
    background: #c9d5e4;
    color: black;
    font-weight: 400;
    margin: 0;
    padding: 10px;
    font-size: 28px;
    text-align: left;
    font-family: monospace;
}</style>
</head>
<body>
<div id="header">
    <h1 id="pagetitle">Status Page</h1>
    </div>

<div id=contents></div>
<script>
var sites = ["clou.json", "stac.json", "gith.json","flip.json"];
sites.forEach(filldata);
function geturl(file, callback) {
    var f = new XMLHttpRequest();
    f.overrideMimeType("application/json");
    f.open("GET", file, true);
    f.onreadystatechange = function() {
        if (f.readyState === 4 && f.status == "200") {
            callback(f.responseText);
        }
    }
    f.send(null);
}
async function filldata(site){
    console.log(site);
sitetitle = site.replace('.json','');
      console.log(sitetitle);
document.getElementById('contents').insertAdjacentHTML('beforeend','<h2 id="'+sitetitle+'" class="sitetitle">'+sitetitle+'</h2><div class="holdstiles">');
await geturl(site, function(text){
      var lines = text.split('\n');
    for(var line = 0; line < lines.length; line++){
      var data = JSON.parse(lines[line]);
document.getElementById('contents').insertAdjacentHTML('beforeend', '<span class="st st'+data['status']+'"><span class="statuscode">'+data['status']+'</span><span class="resptime">'+data['resp_time']+'</span><span class="ts">'+data['time']+'</span></span>');
document.getElementById('contents').insertAdjacentHTML('beforeend', '</div>');

    }

});
}
    </script>
    
    </body></html>
