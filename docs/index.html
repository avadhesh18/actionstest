<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Statue Page.</title><meta name="description" content="Status page for all websites.">
</head>
<body>
<div id="header">
    <h2 id="sitename">Status Page</h2>
    </div>

<h2></h2>
<div id=this></div>
<script>
var sites = ["clou.json", "stac.json", "gith.json","flip.json"];
sites.foreach(filldata);
function geturl(file, callback) {
    var f = new XMLHttpRequest();
    f.overrideMimeType("application/json");
    f.open("GET", file, true);
    f.onreadystatechange = function() {
        if (f.readyState === 4 && f.status == "200") {
            callback(f.responseText);
        }
    }
    f.send(null);
}
function filldata(site){
    console.log(site);
sitetitle = site.replace('.json','');
      console.log(sitetitle);
document.getElementById('contents').insertAdjacentHTML('beforeend','<h2 id="'+sitetitle+'" class="sitetitle">'+sitetitle+'</h2><div class="holdstiles">');
geturl(site, function(text){
      var lines = text.split('\n');
    for(var line = 0; line < lines.length; line++){
      var data = JSON.parse(lines[line]);
document.getElementById('contents').insertAdjacentHTML('beforeend', '<span class="st st'+data['status']+'"><span class="statuscode">'+data['status']+'</span><span class="resptime">'+data['resp_time']+'</span><span class="ts">'+data['time']+'</span></span>');
document.getElementById('contents').insertAdjacentHTML('beforeend', '</div>');

    }

});

</script>
